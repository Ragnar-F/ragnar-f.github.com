<!DOCTYPE HTML>
<html>
<head>
<title>PixelSearch</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link href="../static/theme.css" rel="stylesheet" type="text/css" />
<script src="../static/jquery.js" type="text/javascript"></script>
<script src="../static/tree.jquery.js" type="text/javascript"></script>
<script src="../static/ga.js" type="text/javascript"></script>
<script src="../static/content.js" type="text/javascript"></script>
</head>
<body>

<h1>PixelSearch</h1>

<p>Sucht auf einen Bereich des Bildschirms ein Pixel mit der angegebenen Farbe.</p>

<pre class="Syntax">PixelSearch, AusgabeX, AusgabeY, X1, Y1, X2, Y2, FarbID [, Variation, Fast|RGB]</pre>
<h3>Parameter</h3>
<dl>

  <dt>AusgabeX/Y</dt>
  <dd><p>Namen der Variablen, in denen die Koordinaten X und Y des ersten Pixels gespeichert werden sollen, das mit der <em>FarbID</em> übereinstimmt (wenn keine Übereinstimmung gefunden wird, werden diese Variablen leer gemacht). Die Koordinaten beziehen sich auf das aktive Fenster, sofern das nicht mit <a href="CoordMode.htm">CoordMode</a> geändert wurde.</p>
    <p>Beide Parameter können je nach Bedarf leer gelassen werden. In diesem Fall kann mit ErrorLevel (siehe unten) festgestellt werden, ob eine Übereinstimmung gefunden wurde.</p></dd>

  <dt>X1, Y1</dt>
  <dd><p>Die Koordinaten X und Y der oberen linken Ecke des rechteckigen Suchbereichs, die <a href="../Variables.htm#Expressions">Ausdrücke</a> sein können. <strong>Die Koordinaten beziehen sich auf das aktive Fenster, sofern das nicht mit <a href="CoordMode.htm">CoordMode</a> geändert wurde.</strong></p></dd>

  <dt>X2, Y2</dt>
  <dd><p>Die Koordinaten X und Y der unteren rechten Ecke des rechteckigen Suchbereichs, die <a href="../Variables.htm#Expressions">Ausdrücke</a> sein können. Die Koordinaten beziehen sich auf das aktive Fenster, sofern das nicht mit <a href="CoordMode.htm">CoordMode</a> geändert wurde.</p></dd>

  <dt>FarbID</dt>
  <dd><p>Die dezimale oder hexadezimale Farbkennung im BGR-Format, die gesucht wird (kann ein <a href="../Variables.htm#Expressions">Ausdruck</a> sein). Farbkennungen können mit Window Spy (erreichbar über das Tray-Menü) oder <a href="PixelGetColor.htm">PixelGetColor</a> ermittelt werden. Zum Beispiel: <code>0x9d6346</code>.</p></dd>

  <dt>Variation</dt>
  <dd><p>Eine Nummer zwischen 0 und 255, die den Farbtontoleranzbereich von Rot-, Grün- und Blaukomponenten kennzeichnet (kann ein <a href="../Variables.htm#Expressions">Ausdruck</a> sein). Dieser Parameter ist hilfreich, wenn die Farbe nicht immer exakt den gleichen Farbton hat. Ist der Wert 255 enthalten, stimmen alle Farben überein. Der Standardwert ist 0.</p></dd>

  <dt>Fast|RGB</dt>
  <dd><p>Dieser Parameter kann das Wort Fast, RGB oder beide enthalten (wenn beide vorhanden sind, müssen diese mit einem Leerzeichen getrennt werden, z. B. <em>Fast RGB</em>).</p>
      <p><strong><a name="fast"></a>Fast</strong>: Eine schnelle Suchmethode, bei der die Suche in den meisten Fällen deutlich weniger CPU-Zeit benötigt. Obwohl diese Methode auch niedrige Farbtiefen wie 8-Bit (256 Farben) unterstützt, ist sie bei 24-Bit- oder 32-Bit-Farben leistungsstärker. Wenn die Farbtiefe des Bildschirms 16-Bit oder niedriger ist, verhält sich der <em>Variation</em>-Parameter bei der schnellen Methode etwas anders, als bei der langsamen Methode. Die schnelle Methode sucht den Bildschirm Reihe für Reihe ab (von oben nach unten), anstatt Spalte für Spalte. Daher ist es möglich, dass ein anderes Pixel als das vom langsamen Modus gefunden wird, falls das Pixel im Suchbereich mehrmals vorkommt.</p>
      <p><strong>RGB</strong>: Bewirkt, dass <em>FarbID</em> als RGB-Wert interpretiert wird, anstatt als BGR-Wert. Das heißt, dass die roten und blauen Komponenten vertauscht sind.</p></dd>

</dl>

<h3>ErrorLevel</h3>
<p><span class="ver">[v1.1.04+]</span> Dieser Befehl ist in der Lage, eine Ausnahme auszulösen, wenn beim Suchen ein Problem auftrat. Für mehr Informationen, siehe <a href="Catch.htm#RuntimeErrors">Laufzeitfehler</a>.</p>
<p><a href="../misc/ErrorLevel.htm">ErrorLevel</a> wird auf 0 gesetzt, wenn die Farbe im angegeben Bereich gefunden wurde, auf 1, wenn sie nicht gefunden wurde, oder auf 2, falls der Befehl daran gehindert wurde, die Suche durchzuführen.</p>
<h3>Bemerkungen</h3>
<p>Der Suchbereich muss sichtbar sein. Das heißt, dass es nicht möglich ist, einen Bereich in einem Fenster zu suchen, das hinter einem anderen Fenster liegt. Pixel, die sich unter dem Mauszeiger befinden, werden in der Regel erkannt. Die Ausnahme machen Mauszeiger bei Spielen, weil diese die Sicht auf darunterliegende Pixel behindern.</p>
<p>Gilt nur für den langsamen Modus: Die Suche beginnt standardmäßig beim oberen linken Pixel des Suchbereichs und überprüft alle Pixel vertikal darunter, ob eine Überstimmung vorliegt. Wenn keine Übereinstimmung gefunden wird, wird die Suche nach rechts fortgesetzt, Spalte für Spalte, bis ein passendes Pixel gefunden wird. Die Links-nach-Rechts-Suche kann umgekehrt werden, indem <em>X1</em> und <em>X2</em> in der Parameterliste vertauscht werden. Das heißt: Wenn <em>X1</em> größer als <em>X2</em> ist, erfolgt die Suche von rechts nach links, beginnend bei Spalte <em>X1</em>. Ähnlich verhält es sich, wenn <em>Y1</em> größer als <em>Y2</em> ist: in jeder Pixelspalte beginnt die Suche unten, anstatt oben. Erfolgt die Suche in einem großen Bereich und mit hoher Frequenz, wird sehr viel CPU-Zeit beansprucht. Um die Sache zu entschärfen, sollte die Bereichsgröße auf ein Minimum gehalten werden.</p>
<h3>Siehe auch</h3>
<p><a href="PixelGetColor.htm">PixelGetColor</a>, <a href="ImageSearch.htm">ImageSearch</a>, <a href="CoordMode.htm">CoordMode</a>, <a href="MouseGetPos.htm">MouseGetPos</a></p>
<h3>Beispiel</h3>
<pre class="NoIndent">PixelSearch, Px, Py, 200, 200, 300, 300, 0x9d6346, 3, Fast
if ErrorLevel
    MsgBox, Die Farbe wurde im angegebenen Bereich nicht gefunden.
else
    MsgBox, Eine Farbe, mit einem Variationswert von 3, wurde bei den Koordinaten X%Px% Y%Py% gefunden.</pre>

</body>
</html>
