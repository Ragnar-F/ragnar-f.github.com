<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>FormatTime</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link href="../css/default.css" rel="stylesheet" type="text/css">
<style type="text/css">
<!--
.red {color: #FF0000}
-->
</style>
</head>
<body>
<script src="../../NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
<script language="JavaScript1.2" type="text/javascript">WriteNavLink(2);</script>


<h1>FormatTime</h1>

<p>Verwandelt einen <a href="FileSetTime.htm#YYYYMMDD">YYYYMMDDHH24MISS</a>-Zeitstempel in das angegebene Datum/Zeit-Format.</p>

<pre class="Syntax">FormatTime, Ausgabevariable [, <a href="FileSetTime.htm#YYYYMMDD">YYYYMMDDHH24MISS</a>, Format]</pre>
<h3>Parameter</h3>
<table class="info">
  <tr>
    <td>Ausgabevariable</td>
    <td>Der Name der Variable, in der das Ergebnis gespeichert wird.</td>
  </tr>
  <tr>
    <td>YYYYMMDD...</td>
    <td>Wenn dieser Parameter nicht vorhanden ist, dann wird das aktuelle Datum und die aktuelle Uhrzeit verwendet. Ansonsten k&ouml;nnen die vorderen oder alle Teile eines Zeitstempels im <a href="FileSetTime.htm#YYYYMMDD">YYYYMMDDHH24MISS</a>-Format angegeben werden. Wenn der Datums- und/oder Uhrzeitbereich ung&uuml;ltig ist (z. B. der 29. Februar eines Nicht-Schaltjahrs) dann wird das Datum und/oder die Uhrzeit in der <em>Ausgabevariable</em> weggelassen. Obwohl nur Jahre zwischen 1601 und 9999 unterst&uuml;tzt werden, kann eine formatierte Uhrzeit in fr&uuml;heren Jahren immer noch erzeugt werden, solange der Uhrzeitbereich g&uuml;ltig ist.</td>
  </tr>
  <tr>
    <td width="15%">Format</td>
    <td width="85%"><p>Wenn nicht vorhanden, dann wird standardm&auml;&szlig;ig die Uhrzeit gefolgt vom langen Datumsformat verwendet, beide abh&auml;ngig vom aktuellen Gebietsschema des Benutzers. Zum Beispiel: 10:24 Freitag, 30. April 2010</p>
      <p>Ansonsten k&ouml;nnen beliebig viele der unten genannten Datum-Zeit-Formate mit direkten Leer- und Satzzeichen dazwischen angegeben werden (Kommas m&uuml;ssen nicht gesch&uuml;tzt werden, sie k&ouml;nnen wie gewohnt verwendet werden). Beachtet im folgenden Beispiel, dass das M gro&szlig;geschrieben werden muss: d.M.yyyy h:mm:tt</p></td>
  </tr>
</table>

<h3>Datumsformate <span class="red">(abh&auml;ngig von Gro&szlig;/-Kleinschreibung)</span></h3>
<table class="info">
  <tr>
    <td>d</td>
    <td>Monatstag ohne f&uuml;hrende Null (1 - 31)</td>
  </tr>
  <tr>
    <td>dd</td>
    <td>Monatstag mit f&uuml;hrender Null (01 - 31)</td>
  </tr>
  <tr>
    <td width="15%">ddd</td>
    <td width="85%">Kurzbezeichnung des Wochentags in der aktuellen Benutzersprache (z. B. Mon)</td>
  </tr>
  <tr>
    <td>dddd</td>
    <td>Vollst&auml;ndiger Name des Wochentags in der aktuellen Benutzersprache (z. B. Montag)</td>
  </tr>
  <tr>
    <td>M</td>
    <td>Monat ohne f&uuml;hrende Null (1 - 12)</td>
  </tr>
  <tr>
    <td>MM</td>
    <td>Monat mit f&uuml;hrender Null (01 - 12)</td>
  </tr>
  <tr>
    <td>MMM</td>
    <td>Kurzbezeichnung des Monatsnamens in der aktuellen Benutzersprache (z. B. Jan)</td>
  </tr>
  <tr>
    <td>MMMM</td>
    <td>Vollst&auml;ndiger Monatsname in der aktuellen Benutzersprache (z. B. Januar)</td>
  </tr>
  <tr>
    <td>y</td>
    <td>Jahr ohne Jahrhundert, ohne f&uuml;hrende Null (0 - 99)</td>
  </tr>
  <tr>
    <td>yy</td>
    <td>Jahr ohne Jahrhundert, mit f&uuml;hrender Null (00 - 99)</td>
  </tr>
  <tr>
    <td>yyyy</td>
    <td>Jahr mit Jahrhundert. Zum Beispiel: 2010</td>
  </tr>
  <tr>
    <td>gg</td>
    <td>Periode/Epoche, abh&auml;ngig vom aktuellen Gebietsschema des Benutzers (z. B.: n. Chr.)</td>
  </tr>
</table>
<h3>Zeitformate <span class="red">(abh&auml;ngig von Gro&szlig;/-Kleinschreibung)</span></h3>
<table class="info">
  <tr>
    <td>h</td>
    <td>Stunden ohne f&uuml;hrende Null; 12-Stunden-Format (1 - 12)</td>
  </tr>
  <tr>
    <td>hh</td>
    <td>Stunden mit f&uuml;hrender Null; 12-Stunden-Format (01 - 12)</td>
  </tr>
  <tr>
    <td width="15%">H</td>
    <td width="85%">Stunden ohne f&uuml;hrende Null; 24-Stunden-Format (0 - 23)</td>
  </tr>
  <tr>
    <td>HH</td>
    <td>Stunden mit f&uuml;hrender Null; 24-Stunden-Format (00 - 23)</td>
  </tr>
  <tr>
    <td>m</td>
    <td>Minuten ohne f&uuml;hrende Null (0 - 59)</td>
  </tr>
  <tr>
    <td>mm</td>
    <td>Minuten mit f&uuml;hrender Null (00 - 59)</td>
  </tr>
  <tr>
    <td>s</td>
    <td>Sekunden ohne f&uuml;hrende Null (0 - 59)</td>
  </tr>
  <tr>
    <td>ss</td>
    <td>Sekunden mit f&uuml;hrender Null (00 - 59)</td>
  </tr>
  <tr>
    <td>t</td>
    <td>Einzelnes Zeichen f&uuml;r die Zeitangabe, wie A oder P (abh&auml;ngig vom Gebietsschema)</td>
  </tr>
  <tr>
    <td>tt</td>
    <td>Mehrere Zeichen f&uuml;r die Zeitangabe, wie AM oder PM (abh&auml;ngig vom Gebietsschema)</td>
  </tr>
</table>
<h3>Folgende Formate k&ouml;nnen nur <span class="red">einzeln</span> verwendet werden, also ohne andere Formate oder Texte im <em>Format</em>-Parameter. Diese Formate sind nicht von Gro&szlig;- und Kleinschreibung abh&auml;ngig.</h3>
<table class="info">
  <tr>
    <td>(Leer)</td>
    <td>Das <em>Format</em> leer lassen, um standardm&auml;&szlig;ig die Uhrzeit gefolgt vom langen Datumsformat zu verwendet. Zum Beispiel: 10:24 Freitag, 30. April 2010</td>
  </tr>
  <tr>
    <td>Time</td>
    <td>Zeitdarstellung, abh&auml;ngig vom aktuellen Gebietsschema des Benutzers (z. B. 12:04)</td>
  </tr>
  <tr>
    <td width="15%">ShortDate</td>
    <td width="85%">Kurzes Datumsformat, abh&auml;ngig vom aktuellen Gebietsschema des Benutzers (z. B. 30.04.2010)</td>
  </tr>
  <tr>
    <td>LongDate</td>
    <td>Langes Datumsformat, abh&auml;ngig vom aktuellen Gebietsschema des Benutzers (z. B. Freitag, 30. April 2010)</td>
  </tr>
  <tr>
    <td>YearMonth</td>
    <td>Jahr und Monat, abh&auml;ngig von der Systemeinstellung in Windows (z. B. April 2010) </td>
  </tr>
  <tr>
    <td>YDay</td>
    <td>Jahrestag ohne f&uuml;hrende Nullen (1 - 366)</td>
  </tr>
  <tr>
    <td>YDay0</td>
    <td>Jahrestag mit f&uuml;hrenden Nullen (001 - 366)</td>
  </tr>
  <tr>
    <td>WDay</td>
    <td>Wochentag (1 - 7).  Sonntag ist der 1. Tag einer Woche.</td>
  </tr>
  <tr>
    <td>YWeek</td>
    <td>Das vollst&auml;ndige Jahr und die Wochennummer nach ISO 8601. Zum Beispiel: 201017 Wenn die Woche den 1. Januar, sowie vier oder mehr Tage des neuen Jahres hat, dann wird sie als Woche 1 betrachtet. Ansonsten ist sie die letzte Woche des vorherigen Jahres und die nachfolgende Woche die Woche 1. Folglich sind sowohl der 4. Januar als auch der erste Donnerstag im Januar immer in der 1. Woche.</td>
  </tr>
</table>
<h3>Zus&auml;tzliche Optionen</h3>
<p>Die folgenden Optionen k&ouml;nnen nach dem Zeitstempel im <em>YYYYMMDDHH24MISS</em>-Parameter erfolgen (wenn kein Zeitstempel vorhanden ist, dann k&ouml;nnen diese Optionen auch alleine stehen). Beachtet in dem folgenden Beispiel das Fehlen der Kommas zwischen den Optionen:</p>
<pre>FormatTime, Ausgabevariable, 20100430 LSys D1 D4</pre>
<p><strong>R</strong>: Umkehren. Das Datum steht vor der Zeit (nur sinnvoll, wenn <em>Format</em> leer ist).</p>
<p><strong>Ln</strong>: Wenn diese Option <em>nicht</em> vorhanden ist, dann wird das aktuelle Gebietsschema des Benutzers verwendet, den Text zu formatieren. Mit LSys kann stattdessen das aktuelle Gebietsschema des Betriebssystems verwendet werden. F&uuml;r die Verwendung eines bestimmten Gebietsschemas kann der Buchstabe L mit einer dezimalen der hexadezimalen <a href="http://www.microsoft.com">Gebietsschema-Kennnummer</a> (LCID) angegeben werden. F&uuml;r Informationen, wie ein LCID aufgebaut wird, siehe <a href="http://www.microsoft.com">http://www.microsoft.de</a> mit folgendem Suchbegriff: Locale IDs</p>
<p><strong>Dn</strong>: Datumsoptionen. Ersetzt <strong>n</strong> mit einer folgenden Zahl:<br> 0: Standardoptionen erzwingen. Damit tritt auch das kurze Datumsformat in Kraft. <br> 1: Kurzes Datumsformat verwenden (nur sinnvoll, wenn das <em>Format</em> leer ist; nicht kompatibel mit 2 und 8).<br> 2: Langes Datumsformat verwenden (nur sinnvoll, wenn das <em>Format</em> leer ist; nicht kompatibel mit 1 und 8).<br> 4: Alternativen Kalender verwenden (wenn vorhanden).<br> 8: Jahr-Monat-Format verwenden (nur sinnvoll, wenn das <em>Format</em> leer ist; nicht kompatibel mit 1 und 2). Ben&ouml;tigt Windows 2000 oder h&ouml;her.<br> 0x10: F&uuml;gt Markierungen f&uuml;r die rechtsl&auml;ufige Leserichtung hinzu. Ben&ouml;tigt Windows 2000 oder h&ouml;her.<br> 0x20: F&uuml;gt Markierungen f&uuml;r die linksl&auml;ufige Leserichtung hinzu. Ben&ouml;tigt Windows 2000 oder h&ouml;her.<br> 0x80000000: Ignoriert die Benutzereinstellung des Standard-Datumsformats im Betriebssystem. <br> 0x40000000: Verwendet den ANSI-Zeichensatz anstelle vom lokalen Zeichensatz.</p>
<p><strong>Tn</strong>: Zeitoptionen. Ersetzt <strong>n</strong> mit einer folgenden Zahl:<br> 0: Standardoptionen erzwingen. Minuten und Sekunden werden dadurch auch angezeigt.<br> 1: Minuten und Sekunden werden weggelassen.<br> 2: Sekunden werden weggelassen. <br> 4: Zeitangabe (z. B. AM/PM) wird weggelassen.<br> 8: Das 24-Stunden-Format wird bevorzugt.<br> 12: Kombination aus 4 und 8.<br> 0x80000000: Ignoriert die Benutzereinstellung des Standard-Zeitformats im Betriebssystem. <br> 0x40000000: Verwendet den ANSI-Zeichensatz anstelle vom lokalen Zeichensatz.</p>
<p><strong>Hinweis</strong>: Dn und Tn k&ouml;nnen wie in diesem Beispiel mehrmals wiederholt werden, um mehrere Optionen zu aktivieren: FormatTime, Ausgabevariable, 20040228 D2 D4 T1 T8</p>
<h3 id="Remarks">Bemerkungen</h3>
<p>Um Buchstaben und Zahlen direkt vom <em>Format</em> in die <em>Ausgabevariable</em> zu &uuml;bertragen, sollten sie wie in diesem Beispiel mit Hochkommas umschlossen werden: 'Datum:' MM/dd/yy 'Zeit:' hh:mm:ss tt</p>
<p>Nicht-alphanumerische Zeichen wie Leerzeichen, Tabulatoren, LF-Zeichen (`n), Schr&auml;gstriche, Doppelpunkte, Kommas und andere Satzzeichen m&uuml;ssen nicht von Hochkommas umschlossen werden. Die Ausnahme ist das Hochkomma selbst: Zur Darstellung dieses Zeichens m&uuml;ssen vier aufeinanderfolgende Hochkommas ('''') verwendet werden, oder nur zwei, wenn das Hochkomma sich bereits innerhalb von zwei &auml;u&szlig;eren Hochkommas befindet.</p>
<p>Wenn das <em>Format</em> Datum- und Zeitelemente enth&auml;lt, dann d&uuml;rfen sie nicht vermischt werden. Das hei&szlig;t, dass der String in zwei H&auml;lften aufgeteilt werden sollte: Zeit in die eine H&auml;lfte und Datum in die andere H&auml;lfte. Der Formatstring "hh yyyy mm" beispielsweise liefert nicht das erwartete Ergebnis, weil sich ein Datumselement zwischen zwei Zeitelementen befindet.</p>
<p>Wenn das <em>Format</em> einen numerischen Monatstag (d oder dd) gefolgt von einem vollst&auml;ndigen Monatsnamen (MMMM) enth&auml;lt, dann wird der Genitiv des Monatsnamens verwendet (wenn die Sprache einen Genitiv besitzt).</p>
<p>Wenn das <em>Format</em> mehr als 2000 Zeichen enth&auml;lt, dann wird die <em>Ausgabevariable</em> leer gemacht.</p>
<p>Addition und Subtraktion von Datum und Uhrzeit erfolgt mittels <a href="EnvAdd.htm">EnvAdd</a> und <a href="EnvSub.htm">EnvSub</a>.</p>
<h3>Verwandte Befehle</h3>
<p>Um einen <em>formatierten</em> Datum/Zeit-String <em>ins</em> <a href="FileSetTime.htm#YYYYMMDD">YYYYMMDDHH24MISS</a>-Format umzuwandeln, siehe <a href="http://www.autohotkey.com/forum/topic20405.html">Forumsbeitrag: "Date Parser"</a></p>
<p>Siehe auch: <a href="GuiControls.htm#DateTime">DateTime-Steuerelement</a>, <a href="SetFormat.htm">SetFormat</a>, <a href="Transform.htm">Transform</a>, <a href="../Variables.htm#date">interne Datums- und Zeitvariablen</a>, <a href="FileGetTime.htm">FileGetTime</a></p>
<h3>Beispiele</h3>
<pre class="NoIndent">FormatTime, Zeitstring
MsgBox Die aktuelle Uhrzeit und das aktuelle Datum ist %Zeitstring%.

FormatTime, Zeitstring, R
MsgBox Das aktuelle Datum und die aktuelle Uhrzeit ist %Zeitstring%.

FormatTime, Zeitstring,, Time
MsgBox Die aktuelle Uhrzeit ist %Zeitstring%.

FormatTime, Zeitstring, T12, Time
MsgBox Die aktuelle 24-Stunden-Uhrzeit ist %Zeitstring%.

FormatTime, Zeitstring,, LongDate
MsgBox Das aktuelle Datum (Langformat) ist %Zeitstring%.

FormatTime, Zeitstring, 20050423220133, dddd MMMM d, yyyy hh:mm:ss tt
MsgBox Das angegebene Datum und die Uhrzeit bedeutet formatiert %Zeitstring%.

FormatTime, Zeitstring, 200504, 'Monatsname': MMMM`n'Tagesname': dddd
MsgBox %Zeitstring%

FormatTime, Jahreswoche, 20050101, YWeek
MsgBox Der 1. Januar 2005 hat das folgende Jahr und die Wochennummer nach ISO: %Jahreswoche%</pre>
<p>&nbsp;</p>
<pre class="NoIndent"><em>; &Auml;ndert den Zeitstempel einer Datei:</em>
FileSelectFile, Dateiname, 3,, Datei ausw&auml;hlen,
wenn Dateiname =  <em>; Der Benutzer hat keine Datei ausgew&auml;hlt.</em>
    Return
FileGetTime, Dateizeitstempel, %Dateiname%
FormatTime, Dateizeitstempel, %Dateizeitstempel%   <em>; Da der letzte Parameter entf&auml;llt, wird das lange Datumsformat und Uhrzeit angezeigt.</em>
MsgBox die ausgew&auml;hlte Datei wurde zuletzt am %Dateizeitstempel% modifiziert.</pre>
<p>&nbsp;</p>
<pre class="NoIndent"><em>; Die folgende Funktion wandelt Sekunden in
; Stunden, Minuten und Sekunden um (hh:mm:ss-Format).</em>

MsgBox % FormatSeconds(7384)  <em>; 7384 = 2 Stunden + 3 Minuten + 4 Sekunden. R&uuml;ckgabewert: 2:03:04</em>

FormatSeconds(Sekundenanzahl)  <em>; Wandelt eine Zahl ins hh:mm:ss-Format um.</em>
{
    Zeit = 19990101  <em>; *Mitternacht* eines beliebigen Datums.</em>
    Zeit += %Sekundenanzahl%, seconds
    FormatTime, mmss, %Zeit%, mm:ss
    Return Sekundenanzahl//3600 ":" mmss  <em>; Diese Methode wird verwendet, um mehr als 24 Stunden im Abschnittswert zu unterst&uuml;tzen.</em>
}</pre>

</body>
</html>