<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Joystick mit Tastatur oder Maus neu belegen</title>
<meta name="description" content="Have your joystick send keystrokes and mouse clicks with this free macro program. It also allows a joystick to be used as a mouse.">
<meta name="keywords" content="keyboard,keys,key,keystrokes,clicks,mouse,buttons,button,joystick,hotkeys,hotkey,macro">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="alternate" type="application/rss+xml" title="AutoHotkey Forum RSS" href="../../forum/rss.php">
<link href="../css/default.css" rel="stylesheet" type="text/css">
</head>
<body>

<h1>Joystick mit Tastatur oder Maus neu belegen</h1>


<h2>Inhaltsverzeichnis</h2>
<ul>
  <li><a href="#imp">Wichtige Hinweise</a></li>
  <li><a href="#button">Mit einer Joystick-Taste Tastatureingaben oder Mausklicks senden</a></li>
  <li><a href="#axis">Mit einer Joystick-Achse oder einem Rundblickschalter Tastatureingaben oder Mausklicks senden</a></li>
  <li><a href="#Remarks">Bemerkungen</a></li>
</ul>
<h2 id="imp">Wichtige Hinweise</h2>
<ul>
  <li>Obwohl eine Joystick-Taste oder -Achse mit einer Taste oder Maustaste neu belegt werden kann, kann sie nicht mit anderen Joystick-Tasten oder der -Achsen neu belegt werden. Das w&auml;re nur mithilfe eines Joystick-Emulators wie <a href="http://www.geocities.com/deonvdw/Docs/PPJoyMain.htm">PPJoy</a> m&ouml;glich.</li>
  <li>AutoHotkey identifiziert jede Taste auf dem Joystick mit einer eindeutigen Nummer zwischen 1 und 32. Um diese Nummern zu ermitteln, verwendet den <a href="../scripts/JoystickTest.htm">Joystick-Testscript</a>.</li>
</ul>
<h2 id="button">Mit einer Joystick-Taste Tastatureingaben oder Mausklicks senden</h2>
<p>Hier sind drei Ans&auml;tze, beginnend mit dem einfachsten und endend mit dem komplexesten. Die komplexeste Methode funktioniert bei den meisten Umst&auml;nden (z. B. Spiele, bei denen eine Taste oder Maustaste gedr&uuml;ckt gehalten werden muss).</p>
<p><strong> Methode #1</strong>: Diese Methode sendet einfache Tastatureingaben und Mausklicks. Zum Beispiel:</p>
<pre>Joy1::<a href="../commands/Send.htm">Send</a> {Left}  <em>; Mit der Taste #1 die linke Pfeiltaste senden.</em>
Joy2::<a href="../commands/Click.htm">Click</a>  <em>; Mit der Taste #2 die linke Maustaste senden.</em>
Joy3::Send a{Esc}{Space}{Enter}  <em>; Mit der Taste #3 die Taste "a" gefolgt von Escape, Leerzeichen und Enter senden.</em>
Joy4::Mit freundlichen Gr&uuml;&szlig;en,{Enter}John Smith  <em>; Mit der Taste #4 eine zweizeilige Signatur senden.</em></pre>
<p>Damit eine Taste mehr als einen Befehl senden kann, setzt den ersten Befehl <em>unter</em> den Tastennamen und f&uuml;gt als letzten Befehl ein <a href="../commands/Return.htm">Return</a> hinzu. Zum Beispiel:</p>
<pre>Joy5::
Run Notepad
WinWait Unbenannt - Editor
WinActivate
Send Das ist der Text, der im Editor erscheinen wird.{Enter}
Return</pre>
<p>In der <a href="../KeyList.htm">Tastenliste</a> k&ouml;nnen alle Tastennamen der Tastatur, Maus und des Joysticks gefunden werden.</p>
<p><strong><br> Methode #2</strong>: Diese Methode ist notwendig, wenn eine Taste oder Maustaste gedr&uuml;ckt gehalten werden muss, w&auml;hrend eine Joystick-Taste gedr&uuml;ckt gehalten wird. Mit dem folgenden Beispiel verh&auml;lt sich die zweite Taste des Joysticks wie die linke Pfeiltaste:</p>
<pre>Joy2::
Send {Left down}  <em>; H&auml;lt die linke Pfeiltaste gedr&uuml;ckt.</em>
<a href="../commands/KeyWait.htm">KeyWait</a> Joy2  <em>; Wartet, bis die Joystick-Taste losgelassen wird.</em>
Send {Left up}  <em>; L&auml;sst die linke Pfeiltaste los.</em>
Return</pre>
<p><br> <strong> Methode #3</strong>: Diese Methode ist n&uuml;tzlich, wenn mehrere Joystick-Hotkeys von der Methode #2 vorhanden sind und solche Hotkeys gleichzeitig gedr&uuml;ckt gehalten oder losgelassen werden m&uuml;ssen. Mit dem folgenden Beispiel verh&auml;lt sich die dritte Taste des Joysticks wie die linke Maustaste:</p>
<pre>Joy3::
Send {LButton down}   <em>; H&auml;lt die linke Maustaste gedr&uuml;ckt.</em>
SetTimer, AufTaste3Warten, 10
Return

AufTaste3Warten:
If <a href="../Functions.htm#GetKeyState">GetKeyState</a>("Joy3")  <em>; Wenn die Taste immer noch gedr&uuml;ckt gehalten wird, dann warten.</em>
    Return
<em>; Ansonsten wurde die Taste losgelassen.</em>
Send {LButton up}   <em>; Die linke Maustaste loslassen.</em>
SetTimer, AufTaste3Warten, off
Return

</pre>
<p><strong><br> Automatische Wiederholung einer Tastatureingabe</strong>: Bei einigen Programmen oder Spiele muss eine Taste m&ouml;glicherweise mehrmals gesendet werden (als ob diese Taste gedr&uuml;ckt gehalten wird). Mit dem folgenden Beispiel kann das erreicht werden, indem die Leertaste mehrmals gesendet wird, wenn die zweite Taste des Joysticks gedr&uuml;ckt gehalten wird.</p>
<pre>Joy2::
Send {Space down}   <em>; H&auml;lt die Leertaste gedr&uuml;ckt.</em>
SetTimer, WaitForJoy2, <strong>30</strong>  <em>; Reduziert die Zahl <strong>30</strong> auf 20 oder 10, um die Taste schneller zu senden. Erh&ouml;ht sie, um die Taste langsamer zu senden.</em>
Return

AufJoy2Warten:
If not GetKeyState("Joy2")  <em>; Die Taste wurde losgelassen.</em>
{
    Send {Space up}  <em>; Leertaste loslassen.</em>
    SetTimer, AufJoy2Warten, off  <em>; &Uuml;berwachung der Taste stoppen.</em>
    Return
}
<em>; Da kein "Return" erfolgt, wird die Taste immer noch gedr&uuml;ckt gehalten.</em>
Send {Space down}  <em>; Eine andere Leertaste senden.</em>
Return</pre>
<p><strong>Kontextabh&auml;ngige Joystick-Tasten</strong>: Die Anweisungen <a href="../commands/_IfWinActive.htm">#IfWinActive/Exist</a> k&ouml;nnen verwendet werden, damit bestimmte Joystick-Tasten unterschiedliche Aktionen je nach Typ des aktiven oder vorhandenen Fensters durchf&uuml;hren.</p>
<p><strong>Joystick als Maus verwenden</strong>: Das <a href="../scripts/JoystickMouse.htm">Joystick-zu-Maus-Script</a> wandelt ein Joystick durch die Neubelegung der Tasten und Achsen-Steuerung in eine Maus um.</p>
<h2 id="axis">Mit einer Joystick-Achse oder einem Rundblickschalter Tastatureingaben oder Mausklicks senden</h2>
<p>Damit ein Script auf die Bewegung einer Joystick-Achse oder des Rundblickschalters reagiert, verwendet <a href="../commands/SetTimer.htm">SetTimer</a> und <a href="../commands/GetKeyState.htm">GetKeyState</a>. Im folgenden Beispiel verhalten sich die X- und Y-Achsen des Joysticks wie die Pfeiltasten auf der Tastatur (links, rechts, oben und unten):</p>
<pre>#Persistent  <em>; H&auml;lt das Script aufrecht, bis der Benutzer es direkt beendet.</em>
<a href="../commands/SetTimer.htm">SetTimer</a>, Achsen&Uuml;berwachen, 5
Return

Achsen&Uuml;berwachen:
<a href="../commands/GetKeyState.htm">GetKeyState</a>, JoyX, JoyX  <em>; Position der X-Achse ermitteln.</em>
GetKeyState, JoyY, JoyY  <em>; Position der Y-Achse ermitteln.</em>
Dr&uuml;ckendeTasteVorher = %Dr&uuml;ckendeTaste%  <em>; Dr&uuml;ckendeTasteVorher enth&auml;lt nun die Taste, die vorher gedr&uuml;ckt wurde (falls vorhanden).</em>

If JoyX > 70
    Dr&uuml;ckendeTaste = Right
Else If JoyX < 30
    Dr&uuml;ckendeTaste = Left
Else If JoyY > 70
    Dr&uuml;ckendeTaste = Down
Else If JoyY < 30
    Dr&uuml;ckendeTaste = Up
Else
    Dr&uuml;ckendeTaste =

If Dr&uuml;ckendeTaste = %Dr&uuml;ckendeTasteVorher%  <em>; Die richtige Taste wird bereits gedr&uuml;ckt (oder es ist keine Taste notwendig).</em>
    Return  <em>; Nichts machen.</em>

<em>; Ansonsten die vorherige Taste loslassen und neue Taste dr&uuml;cken:</em>
SetKeyDelay -1  <em>; Verhindert eine Verz&ouml;gerung zwischen den Tastatureingaben.</em>
If Dr&uuml;ckendeTasteVorher   <em>; Vorherige Taste verf&uuml;gbar, die losgelassen werden kann.</em>
    Send, {%Dr&uuml;ckendeTasteVorher% up}  <em>; Loslassen.</em>
If Dr&uuml;ckendeTaste   <em>; Taste verf&uuml;gbar, die gedr&uuml;ckt werden kann.</em>
    Send, {%Dr&uuml;ckendeTaste% down}  <em>; Dr&uuml;cken.</em>
Return</pre>
<p>&nbsp;</p>
<p>Im folgenden Beispiel verh&auml;lt sich der Rundblickschalter des Joysticks wie die Pfeiltasten auf der Tastatur (links, rechts, oben und unten):</p>
<pre>#Persistent  <em>; H&auml;lt das Script aufrecht, bis der Benutzer es direkt beendet.</em>
SetTimer, POV&Uuml;berwachen, 5
Return

POV&Uuml;berwachen:
GetKeyState, POV, JoyPOV  <em>; Position der POV-Steuerung ermitteln.</em>
Dr&uuml;ckendeTasteVorher = %Dr&uuml;ckendeTaste%  <em>; Dr&uuml;ckendeTasteVorher enth&auml;lt nun die Taste, die vorher gedr&uuml;ckt wurde (falls vorhanden).</em>

<em>; Einige Joysticks haben m&ouml;glicherweise eine reibungslose/stetige POV anstelle eines POVs in regelm&auml;&szlig;igen Abst&auml;nden.
; Damit alle unterst&uuml;tzt werden, verwendet einen Bereich:</em>
If POV < 0   <em>; Keine Achse zu melden</em>
    Dr&uuml;ckendeTaste =
Else If POV > 31500                 <em>; 315 bis 360 Grad: Nach vorne gerichtet</em>
    Dr&uuml;ckendeTaste = Up
Else If POV between 0 and 4500      <em>; 0 bis 45 Grad: Nach vorne gerichtet</em>
    Dr&uuml;ckendeTaste = Up
Else If POV between 4501 and 13500  <em>; 45 bis 135 Grad: Nach rechts gerichtet</em>
    Dr&uuml;ckendeTaste = Right
Else If POV between 13501 and 22500 <em>; 135 bis 225 Grad: Nach hinten gerichtet</em>
    Dr&uuml;ckendeTaste = Down
Else                                <em>; 225 bis 315 Grad: Nach links gerichtet</em>
    Dr&uuml;ckendeTaste = Left

If Dr&uuml;ckendeTaste = %Dr&uuml;ckendeTasteVorher%  <em>; Die richtige Taste wird bereits gedr&uuml;ckt (oder es ist keine Taste notwendig).</em>
    Return  <em>; Nichts machen.</em>

<em>; Ansonsten die vorherige Taste loslassen und neue Taste dr&uuml;cken:</em>
SetKeyDelay -1  <em>; Verhindert eine Verz&ouml;gerung zwischen den Tastatureingaben.</em>
If Dr&uuml;ckendeTasteVorher   <em>; Vorherige Taste verf&uuml;gbar, die losgelassen werden kann.</em>
    Send, {%Dr&uuml;ckendeTasteVorher% up}  <em>; Loslassen.</em>
If Dr&uuml;ckendeTaste   <em>; Taste verf&uuml;gbar, die gedr&uuml;ckt werden kann.</em>
    Send, {%Dr&uuml;ckendeTaste% down}  <em>; Dr&uuml;cken.</em>
Return</pre>
<p>&nbsp;</p>
<p><strong>Automatische Wiederholung einer Tastatureingabe</strong>: Beide oben genannten Beispiele k&ouml;nnen modifiziert werden, um die Tasten mehrmals zu senden, anstatt eine Taste gedr&uuml;ckt zuhalten (d. h. sie k&ouml;nnen das physische Gedr&uuml;ckthalten einer Taste auf der Tastatur nachahmen). Ersetzt daf&uuml;r die folgende Zeile:</p>
<pre>Return  <em>; Nichts machen.</em></pre>
<p>MIT:</p>
<pre>{
    If Dr&uuml;ckendeTaste
        Send, {%Dr&uuml;ckendeTaste% down}  <em>; Automatische Wiederholung der Taste.</em>
    Return
}</pre>
<h2 id="Remarks">Bemerkungen</h2>
<p>Es kann ein beliebiger Joystick verwendet werden, indem der Taste oder dem Achsennamen die Nummer des Joysticks vorangestellt wird. Zum Beispiel ist 2Joy1 die erste Taste des zweiten Joysticks.</p>
<p>Besucht das <a href="http://www.autohotkey.com/forum/">AutoHotkey-Forum</a> f&uuml;r weitere n&uuml;tzliche Joystick-Scripts. Mit Schl&uuml;sselw&ouml;rtern wie <em>Joystick und GetKeyState und Send</em> k&ouml;nnen interessante Themen gefunden werden.</p>
<h2>Verwandte Befehle</h2>
<p><a href="../scripts/JoystickMouse.htm">Joystick-zu-Maus-Script (ein Joystick als Maus verwenden)</a><br> <a href="../KeyList.htm#Joystick">Liste mit Tasten, Achsen und Steuerungen des Joysticks</a><br> <a href="../commands/GetKeyState.htm">GetKeyState</a><br> <a href="Remap.htm">Tastatur und Maus neubelegen</a></p>
</body>
</html>
