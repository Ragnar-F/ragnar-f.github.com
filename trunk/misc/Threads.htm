<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Threads</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="../css/default.css" rel="stylesheet" type="text/css">
</head>

<body>
<h1>Threads</h1>

<p>Der <em>aktuelle Thread</em> wird als Ausführungsablauf definiert, der vom aktuellsten Ereignis aufgerufen wird; Beispiele sind <a href="../Hotkeys.htm">Hotkeys</a>, <a href="../commands/SetTimer.htm">SetTimer-Subroutinen</a>, <a href="../commands/Menu.htm">benutzerdefinierte Menüpunkte</a> und <a href="../commands/Gui.htm#Events">GUI-Ereignisse</a>. Der <em>aktuelle Thread</em> kann Befehle innerhalb der eigenen Subroutine oder innerhalb anderer aufgerufenen Subroutinen ausführen.</p>
<p>Obwohl AutoHotkey zurzeit mehrere Threads gleichzeitig nicht unterstützt, wird das Verhalten simuliert: Wenn ein zweiter Thread gestartet wird (z. B. durch Drücken eines anderen Hotkeys, während der vorherige Hotkey immer noch läuft), dann wird der <em>aktuelle Thread</em> unterbrochen (vorübergehend angehalten), damit der neue Thread zum <em>aktuellen Thread</em> wird. Wenn ein dritter Thread gestartet wird, während das zweite noch läuft, dann sind sowohl der Zweite als auch der Erste im Ruhezustand und so weiter.</p>
<p>Wenn der <em>aktuelle Thread</em> beendet wird, dann wird der aktuellste unterbrochene Thread fortgesetzt und so weiter, bis alle Threads fertig sind. Wenn ein Thread fortgesetzt wird, dann werden seine Einstellungen wie <a href="ErrorLevel.htm">ErrorLevel</a> und <a href="../commands/SendMode.htm">SendMode</a> automatisch wiederhergestellt; mit anderen Worten erfährt ein Thread keine Nebeneffekte von der Unterbrechung (außer bei einer möglichen Änderung im <a href="../commands/WinActivate.htm">aktiven Fenster</a>).</p>
<p>Hinweis: Der <a href="../commands/KeyHistory.htm">KeyHistory</a>-Befehl /-Menüpunkt zeigt an, wie viele Threads im unterbrochenen Zustand sind, und der <a href="../commands/ListHotkeys.htm">ListHotkeys</a>-Befehl/-Menüpunkt zeigt an, welche Hotkeys Threads haben.</p>
<p>Ein Script kann mehrere <a href="../commands/MsgBox.htm">MsgBox</a>-, <a href="../commands/InputBox.htm">InputBox</a>-, <a href="../commands/FileSelectFile.htm">FileSelectFile</a>- und <a href="../commands/FileSelectFolder.htm">FileSelectFolder</a>-Dialogfenster gleichzeitig enthalten. Das kann mit der Ausführung eines neuen Threads erreicht werden (mithilfe von <a href="../Hotkeys.htm">Hotkey</a>, <a href="../commands/SetTimer.htm">zeitlich festgelegte Subroutine</a>, <a href="../commands/Menu.htm">benutzerdefinierter Menüpunkt</a>, usw.), während ein vorheriger Thread bereits ein Dialogfenster anzeigt.</p>
<p>Standardmäßig kann ein angegebener <a href="../Hotkeys.htm">Hotkey</a> oder <a href="../Hotstrings.htm">Hotstring</a> nicht zweimal ausgeführt werden, falls er bereits läuft. Verwendet <a href="../commands/_MaxThreadsPerHotkey.htm">#MaxThreadsPerHotkey</a>, um das Verhalten zu ändern.</p>
<h2>Thread-Priorität</h2>
<p>Jeder Thread <a href="../Hotkeys.htm">(Hotkey</a>, <a href="../commands/SetTimer.htm">zeitlich festgelegte Subroutine</a>, <a href="../commands/Menu.htm">benutzerdefinierter Menüpunkt</a>, usw.) mit einer Priorität niedriger als die Priorität des <em>aktuellen Threads</em> kann nicht unterbrochen werden. In dieser Zeit werden solche Timer nicht ausgeführt, außerdem kann der Benutzer weder einen Thread erstellen noch einen zwischenspeichern (z. B. das Drücken eines <a href="../Hotkeys.htm">Hotkeys</a> oder einer <a href="../commands/GuiControls.htm#Button">GUI-Schaltfläche</a>). Deshalb sollten Threads mit hoher Priorität so gestaltet werden, dass sie schnell beendet werden können, oder verwendet <a href="../commands/Critical.htm">Critical</a> anstelle der hohen Priorität.</p>
<p>Die Standard-Priorität ist 0. Alle Threads verwenden die Standard-Priorität, solange diese Priorität nicht von einer folgenden Methode geändert wird:<br> 1) Die Priorität einer zeitlich festgelegten Subroutine wird mithilfe von <a href="../commands/SetTimer.htm">SetTimer</a> geändert.<br> 2) Die Priorität eines Hotkeys wird mithilfe des <a href="../commands/Hotkey.htm">Hotkey</a>-Befehls geändert.<br> 3) Die Priorität eines Hotstrings wird mithilfe des <a href="../Hotstrings.htm">Hotstring</a>-Befehls oder der <a href="../commands/_Hotstring.htm">#Hotstring</a>-Anweisung geändert. <br> 4) Die Priorität eines benutzerdefinierten Menüpunkts wird mithilfe des <a href="../commands/Menu.htm">Menu</a>-Befehls geändert.<br> 5) Der <em>aktuelle Thread</em> bestimmt seine eigene Priorität mithilfe des <a href="../commands/Thread.htm">Thread</a>-Befehls.</p>
<p>Die <a href="../commands/OnExit.htm">OnExit</a>-Subroutine (falls vorhanden) wird immer bei Aufruf ausgeführt, unabhängig von der Priorität des <em>aktuellen Threads</em>.</p>
</body>
</html>
