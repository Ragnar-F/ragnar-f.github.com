<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Loop</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="../css/default.css" rel="stylesheet" type="text/css">
</head>
<body>

<h1>Loop</h1>

<p>Kontinuierliche Wiederholung von mehreren Befehlen: entweder mittels einer definierten Anzahl an Durchläufen oder bis ein <a href="Break.htm">Break</a>-Befehl zum Abbruch auffordert.</p>

<pre class="Syntax">Loop [, Zählung]</pre>
<h3>Parameter</h3>
<table class="info">
  <tr>
    <td width="15%">Anzahl</td>
    <td width="85%"><p>Wie oft die Schleife wiederholt werden soll (Iteration). Wenn weggelassen, dann wiederholt sich die Schleife unendlich, bis ein <a href="Break.htm">Break</a> oder <a href="Return.htm">Return</a> auftritt.</p>
      <p> Wenn die <em>Zählung</em> eine Variablenreferenz wie %Elementzählung% ist, dann wird die Schleife komplett übersprungen, sobald die Variable leer ist oder eine Zahl kleiner 1 enthält.</p>
      <p>Da <a href="LoopFile.htm">dateilesende Schleifen</a> unterstützt werden müssen, kann die <em>Zählung</em> kein Ausdruck sein. Allerdings kann, wie bei allen Parametern ohne Ausdruck, ein Ausdruck erzwungen werden, wenn ein Prozentzeichen mit einem Leerzeichen davor steht. Zum Beispiel: <em>Loop % Zählung + 1</em>. In solchen Fällen wird der Ausdruck nur einmal ausgewertet, bevor die Schleife beginnt.</p></td>
  </tr>
</table>

<h3>Bemerkungen</h3>
<p>Nach einer Schleife erfolgt für gewöhnlich ein <a href="Block.htm">Block</a>, der eine Sammlung an Anweisungen enthält, um den <em>Schleifenkörper</em> zu formen. Allerdings benötigt eine Schleife mit nur einer Anweisung keinen Block (in diesem Fall zählt ein "If" und das dazugehörige "Else" als eine Anweisung).</p>
<p>Eine häufige Verwendung des Befehls ist eine Endlosschleife, die den <a href="Break.htm">Break</a>-Befehl irgendwo im <em>Schleifenkörper</em> verwendet, um sie zu stoppen.</p>
<p>Die Benutzung von <a href="Break.htm">Break</a> und <a href="Continue.htm">Continue</a> innerhalb einer Schleife dienen als Alternative für <a href="Goto.htm">Goto</a>, weil das Script dadurch besser verständlich und pflegbar ist. Um eine "Do...While"-Schleife zu erstellen, macht die letzte Anweisung des <em>Schleifenkörpers</em> zur IF-Anweisung, die als Ersatz für dem <a href="Break.htm">Break</a>-Befehl dient. Mit der gleichen Technik kann eine "While"-Schleife erstellt werden, stattdessen sollte aber der <a href="While.htm">While</a>-Befehl verwendet werden.</p>
<p>Die interne Variable <strong>A_Index</strong> enthält die Nummer des aktuellen Schleifendurchlaufs. Zum ersten Mal enthält die Variable eine 1, wenn der <em>Schleifenkörper</em> ausgeführt wird. Zum zweiten Mal enthält sie eine 2, und so weiter. Wenn eine innere Schleife durch eine äußere Schleife eingeschlossen ist, dann hat die innere Schleife Vorrang. A_Index funktioniert mit jeder Schleifenvariante, einschließlich auch in <a href="LoopFile.htm">dateilesende Schleifen</a> und <a href="LoopReg.htm">Registrierung-Schleifen</a>. Außerhalb einer Schleife enthält A_Index eine 0.</p>
<p>Der <a href="Block.htm#otb">One True Brace (OTB)-Stil</a> kann gegebenenfalls mit einer normalen Schleife verwendet werden (aber nicht mit besonderen Schleifen wie <a href="LoopFile.htm">dateilesende Schleife</a> und <a href="LoopParse.htm">Parsing-Schleife</a>. Zum Beispiel:</p>
<pre>Loop <strong>{</strong>
    ...
<strong>}</strong>
Loop %Zählung% <strong>{</strong>
    ...
<strong>}</strong></pre>
<p>Besondere Schleifen: Schleifen können verwendet werden, um Dateien, Ordner oder Registrierungseinträge zu ermitteln (jeweils eins). Siehe <a href="LoopFile.htm">dateilesende Schleife</a> und <a href="LoopReg.htm">Registrierung-Schleife</a> für Details. Darüber hinaus agieren <a href="LoopReadFile.htm">dateilesende Schleifen</a> mit dem kompletten Inhalt einer Datei, Zeile für Zeile. Schließlich agieren <a href="LoopParse.htm">Parsing-Schleifen</a> mit bestimmten Feldern innerhalb eines abgegrenzten Strings.</p>
<h3>Verwandte Befehle</h3>
<p><a href="Until.htm">Until</a>, <a href="While.htm">While-Loop</a>, <a href="For.htm">For-Loop</a>, <a href="LoopFile.htm">Loop (Dateien & Ordner)</a>, <a href="LoopReg.htm">Registrierung-Loop</a>, <a href="LoopReadFile.htm">dateilesende Schleife</a>, <a href="LoopParse.htm">Parsing-Loop</a>, <a href="Break.htm">Break</a>, <a href="Continue.htm">Continue</a>, <a href="Block.htm">Blocks</a></p>
<h3>Beispiele</h3>
<pre class="NoIndent">Loop, 3
{
    MsgBox, Iterationsnummer ist %A_Index%.  <em>; A_Index wird 1, 2 und 3 sein.</em>
    Sleep, 100
}

Loop
{
    If a_index > 25
        break  <em>; Schleife unterbrechen.</em>
    If a_index < 20
        continue <em>; Folgendes überspringen und neue Iteration starten.</em>
    MsgBox, a_index = %a_index% <em>; Hier werden nur die Nummern von 20 bis 25 angezeigt.</em>
}</pre>

</body>
</html>
